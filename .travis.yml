dist: xenial
services:
- postgresql
addons:
  postgresql: '9.4'
before_script:
- psql -U postgres -c "create user decide password 'decide'"
- psql -U postgres -c "create database test_decide owner decide"
- psql -U postgres -c "ALTER USER decide CREATEDB"
language: python
python:
- '3.6'
install:
- pip install -r requirements.txt
script:
- cd decide
- cp travis_local_settings.py local_settings.py
- python ./manage.py test --keepdb
deploy:
  provider: heroku
  app: egc-app3
  strategy: git
  api_key:
    secure: uEhAV9WRf7OTTJuq8ZlezPgOoEvAUvyCNIEuBhWZ/ry+i4B1VSHdJ3R3XU/SrydcHPEhV+kI8tQFZeDrBs1isbj2VkjN41X+txcyKQBPPnK4PXyFwLMXOAPpjT/WDsgnBv+Jmnt6ar2nU4xJ/O0QV29FsYAweIdLpfa2XJ84UBMpa6aK4HN9tAtu5+8HMR0dLb62H2fJKtPFZWy9URelxLoMmC7OMc5YC+THiXLvSBoI8unK03YW+C0JTLKaKMq3un6vm3DWrEqHyKhMtAi5wEDaOejchJ6xBwqlbeNTcsz5dyaJmujYNmWSKTULIlHZj0bmhvsTA4Olc6Z+F8ZuB0SAtYHqHsLuGH5MIvzAWo4yJt00SnLBZpbJxhCOPnolSBPIn5U88pJigTZsvWfkEYeqF6fZ5XCTvT3FegN/ZcZKPEAsRjwTCNEe/rtFzpnUtXuuP2LrUR2FdlelwKm8tH84DQDwd4qNStVXdscJVrddmqbIKy+gbV8hO3Sy8F8dSBCTvpaHIsW+aYVeLIKwrKzA9zeMlkMCKtEvowkJb+3NRJtMkwmWPg514SJKY5GvTLn4Ae5iF8NBtnC3Q1fdmGdPOks4XHh0frk16QUv4k6cqxlQeOwKog5w9KJsyikl4MYxUrZVsgdg6YtlMKcehWZnLa9j0OLqzstVchivhxg=
